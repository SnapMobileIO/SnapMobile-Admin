<div ng-repeat="(key, value) in ctrl.Admin.schema" ng-if="value.instance">

  <!-- Not an Array or an Image -->
  <div class="form-group" ng-if="value.instance != 'Boolean' && value.instance != 'ObjectID' && value.instance != 'Array' && value.instance != 'Image'">
    <label for="{{key}}" class="col-sm-2 control-label">{{key}}</label>
    <div class="col-sm-8">
      <input type="text" ng-model="ctrl.object[key]" id="{{key}}" placeholder="{{key}}" class="form-control">
    </div>
  </div>

  <!-- Boolean type -->
  <div class="form-group" ng-if="value.instance == 'Boolean'">
    <label for="{{key}}" class="col-sm-2 control-label">{{key}}</label>
    <div class="col-sm-8">
      <input type="checkbox" ng-model="ctrl.object[key]" id="{{key}}">
    </div>
  </div>

  <!-- An Array type -->
  <div class="form-group" ng-if="value.instance == 'Array'">
    <label for="{{key}}" class="col-sm-2 control-label">{{key}}</label>
    <div class="col-sm-8">
      <ui-select multiple tagging tagging-label="(add)" ng-model="ctrl.object[key]" sortable="true" title="Add {{key}}">
        <ui-select-match placeholder="Add {{key}}...">{{$item}}</ui-select-match>
        <ui-select-choices repeat="choice in [] | filter:$select.search">
          {{choice}}
        </ui-select-choices>
      </ui-select>
    </div>
  </div>

  <!-- Relationship ObjectID type -->
  <div class="form-group" ng-if="value.instance == 'ObjectID' && key != '_id'" ng-init="ctrl.findRelationshipObjects(ctrl.Admin.schema[key].options.ref, key)">
    <label for="{{key}}" class="col-sm-2 control-label">{{key}}</label>
    <div class="col-sm-8">
      <ui-select ng-model="ctrl.object[key]" title="Add {{key}}">
        <ui-select-match allow-clear="true">{{$select.selected[(ctrl.Admin.schema[key].searchBy || 'displayName')]}}</ui-select-match>
        <ui-select-choices repeat="choice._id as choice in ctrl.relationshipObjects[key] | filter: { {{(ctrl.Admin.schema[key].searchBy || 'displayName')}}: $select.search }">
          <div ng-bind-html="choice[(ctrl.Admin.schema[key].searchBy || 'displayName')] | highlight: $select.search"></div>
        </ui-select-choices>
      </ui-select>
    </div>
  </div>

  <!--  An Image type -->
  <div class="form-group" ng-if="value.instance == 'Image'">
    <label class="col-sm-2 control-label">{{key}}</label>
    <div class="col-sm-2" ng-if="ctrl.object[key]">
      <img ng-src="https://test-aws-lamda-bucket.s3.amazonaws.com/{{ctrl.object[key].url}}" ng-if="ctrl.object[key]" style="max-width: 100%; max-height: 100%;">
    </div>
    <div class="col-sm-2">
      <file-upload for-file="ctrl.object[key]" multiple="false" max-file-size="'2MB'">Drop new image here</file-upload>
    </div>
  </div>

</div>
